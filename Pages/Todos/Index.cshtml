@page
@model justdoit_fixer.Pages.Todos.Index

@{
    string search_term = "moopsy hungers....";
}

<div class="flex flex-col gap-4">
    <h1>Todos (deployment fix)</h1>

    <partial name="_AddTodo"/>

    <partial name="_TodoActions"></partial>

    <div
        hx-get
        hx-trigger="load"
        hx-indicator="#table_loader"
        hx-page="Index"
        hx-page-handler="AllTodos">
        <span
            id="table_loader"
            class="hx-indicator">
            loading...
            <img class="w-8" src="~/img/loaders/my_awesome_spinner.svg" alt="">
        </span>

    </div>

    @* Experimental *@

    <template x-if="false" x-cloak>

        <button
            class="btn btn-primary"
            hx-get
            hx-page="Index"
            hx-page-handler="Stuff"
            hx-trigger="click">
            Swap
        </button>

        <div x-data="{ open: false }">
            <button class="btn btn-secondary" @@click="open = true">Expand</button>

            <span x-show="open">
                Content...
            </span>
        </div>

    </template>

    @* <partial name="_TimeMetrics"></partial> *@

    @* <partial name="_ToastSample"></partial> *@
</div>